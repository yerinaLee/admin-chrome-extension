/* --- Root Variables (Light Mode) --- */
:root {
    --bg-gradient: linear-gradient(135deg, #f0f4f8 0%, #d9e2ec 100%);
    --glass-bg: rgba(255, 255, 255, 0.7);
    --glass-border: rgba(255, 255, 255, 0.9);
    --text-primary: #102a43;
    --text-secondary: #486581;
    --accent-color: #334e68; /* 차분한 네이비 블루 */
    --shadow-glass: 0 4px 12px rgba(0, 0, 0, 0.05);
}

* { box-sizing: border-box; outline: none; }

body {
    /* 너비 고정: 너무 넓지도 좁지도 않게 */
    width: 480px; 
    min-height: 600px;
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
    font-size: 12px; /* 기본 폰트 살짝 축소 */
    color: var(--text-primary);
    margin: 0; padding: 15px; /* 패딩을 줄여서 내부 공간 확보 */
    background: var(--bg-gradient);
    overflow-x: hidden;
}

/* --- Glass Panel --- */
.glass-panel {
    background: var(--glass-bg);
    backdrop-filter: blur(12px);
    border: 1px solid var(--glass-border);
    border-radius: 12px;
    padding: 15px; /* 패딩 축소 */
    margin-bottom: 15px;
    box-shadow: var(--shadow-glass);
}

/* --- Typography --- */
h2 {
    margin: 5px 0 15px 0;
    font-weight: 700; font-size: 18px;
    text-align: center; color: #243b53; letter-spacing: -0.5px;
}

h3 {
    margin: 0 0 10px 0;
    font-size: 13px; font-weight: 700; color: var(--accent-color);
    display: flex; align-items: center; gap: 6px;
    text-transform: uppercase; letter-spacing: 0.5px;
}
h3::before {
    content: ''; display: block; width: 3px; height: 12px;
    background: #2cb1bc; /* 청록색 포인트 */
    border-radius: 2px;
}

/* 유틸리티 */
.hidden { display: none !important; }
.error { 
    background: #fff5f5; border: 1px solid #fc8181; 
    color: #c53030; padding: 10px; border-radius: 6px; 
    text-align: center; margin-top: 10px; font-weight: 600; 
}
.section { animation: fadeIn 0.3s ease-out; }

/* --- Login Section --- */
#loginSection { height: 350px; display: flex; flex-direction: column; justify-content: center; align-items: center; }
.login-desc { color: var(--text-secondary); margin-bottom: 15px; font-size: 13px; }

.google-btn {
    background: #fff; border: 1px solid #dcdcdc; color: #444;
    padding: 10px 20px; border-radius: 6px; font-size: 13px; font-weight: 600;
    display: inline-flex; align-items: center; gap: 8px; cursor: pointer; transition: 0.2s;
}
.google-btn:hover { background: #f0f0f0; transform: translateY(-1px); box-shadow: 0 2px 5px rgba(0,0,0,0.1); }
.google-icon { font-weight: bold; color: #4285f4; font-size: 16px; }

/* --- Header Util --- */
.header-util { 
    display: flex; justify-content: space-between; align-items: center; 
    margin-bottom: 15px; padding-bottom: 8px; border-bottom: 1px solid rgba(0,0,0,0.05); 
}
#userEmailDisplay { color: #334e68; font-weight: 700; font-size: 12px; }
.logout-link { background: none; border: none; color: #829ab1; cursor: pointer; font-size: 11px; text-decoration: underline; }
.logout-link:hover { color: #e00; }

/* --- Search Box --- */
.search-box { display: flex; gap: 6px; margin-bottom: 15px; }
select, input {
    padding: 8px 10px; border: 1px solid #bcccdc; background: rgba(255,255,255,0.9);
    border-radius: 6px; color: #333; font-size: 12px; transition: 0.2s;
}
select:focus, input:focus { background: #fff; border-color: #2cb1bc; outline: none; box-shadow: 0 0 0 2px rgba(44, 177, 188, 0.1); }
select { width: 100px; cursor: pointer; }
input { flex: 1; }

button#searchBtn {
    background: #3c8dbc; color: white; border: none; border-radius: 6px; padding: 0 16px;
    font-weight: 600; font-size: 12px; cursor: pointer; transition: 0.2s;
}
button#searchBtn:hover { background: #367fa9; }

/* --- History Section --- */
#historySection { 
    background: rgba(255,255,255,0.5); padding: 10px; border-radius: 8px; margin-bottom: 15px; border: 1px solid rgba(255,255,255,0.6); 
}
.history-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 8px; }
.history-label { font-size: 11px; color: #627d98; font-weight: 600; letter-spacing: 0.5px; }

#deleteSearchHistoryBtn {
    background: transparent; border: 1px solid #f86c6b; color: #f86c6b;
    font-size: 10px; padding: 2px 8px; border-radius: 12px; cursor: pointer; transition: 0.2s;
}
#deleteSearchHistoryBtn:hover { background: #f86c6b; color: #fff; }

#historyContainer { display: flex; flex-wrap: wrap; gap: 5px; }

/* ⭐ [수정] 히스토리 태그 (끊어짐 방지) */
.history-item-wrapper {
    display: inline-flex; align-items: center;
    background: #fff; border: 1px solid #e1e4e8;
    border-radius: 4px; padding: 3px 6px;
    font-size: 11px; color: #486581; cursor: pointer; transition: 0.2s;
    max-width: 100%; /* 부모 너비 넘지 않게 */
}
.history-item-wrapper:hover { border-color: #2cb1bc; color: #102a43; background: #f0fcfd; }

.history-text-item { 
    margin-right: 6px; 
    white-space: nowrap; 
    overflow: hidden; 
    text-overflow: ellipsis; 
    max-width: 180px; /* 너무 길면 ... 처리 */
}
.delete-history-text-item { 
    color: #9aa5b1; /* font-weight: bold; */ font-size: 12px; 
    /* padding: 0 2px; */
    /* margin: 0 0 0 -5px; */
}
.delete-history-text-item:hover { color: #e00; }

/* --- Table (Compact) --- */
.table-scroll {
    border: 1px solid #d9e2ec; border-radius: 6px;
    background: #fff; overflow: hidden;
}

table { width: 100%; border-collapse: collapse; table-layout: fixed; /* 칸 너비 고정 */ }

th {
    background: #f0f4f8; color: #486581; font-weight: 700;
    font-size: 11px; padding: 8px 10px; text-align: left;
    border-bottom: 1px solid #d9e2ec; white-space: nowrap;
}

td {
    padding: 8px 10px; border-bottom: 1px solid #f0f4f8;
    color: #102a43; font-size: 12px;
    /* white-space: nowrap; */ /* 줄바꿈 방지 (잘리면 ... 처리) */
    /* overflow: hidden; text-overflow: ellipsis; */

    white-space: normal; /* 줄바꿈 처리 */
    word-break: break-all;
    /* overflow: visible;  */
    /* text-overflow: clip; */
}

tr:last-child td { border-bottom: none; }
tr:hover td { background: #f7f9fa; }

/* User Info Table - 간격 최적화 */
.info-table th { width: 70px; background: transparent; color: #829ab1; border: none; font-weight: 500; }
.info-table td { font-weight: 600; border: none; color: #102a43; }
.info-table tr { border-bottom: 1px solid rgba(0,0,0,0.03); }

#resUserStatus { font-weight: 800; }

/* 스크롤바 */
::-webkit-scrollbar { width: 5px; height: 5px; }
::-webkit-scrollbar-thumb { background: #bcccdc; border-radius: 3px; }
::-webkit-scrollbar-track { background: transparent; }

@keyframes fadeIn { from { opacity: 0; transform: translateY(5px); } to { opacity: 1; transform: translateY(0); } }